<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>GeoMask Pro: –ì–µ–æ–ª–æ–∫–∞—Ü–∏–æ–Ω–Ω—ã–π –ú–∞—Å–∫–∏—Ä–∞—Ç–æ—Ä</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" rel="stylesheet">
    <style>
        body {
            background: linear-gradient(135deg, #0f1020, #16213e);
            color: #e0e0e0;
            font-family: 'Arial', sans-serif;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .quantum-container {
            background: rgba(30, 40, 70, 0.8);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.5);
            max-width: 500px;
            width: 100%;
        }

        .btn-quantum {
            background: linear-gradient(45deg, #5c42ff, #bd34fe);
            color: white;
            border: none;
            transition: all 0.3s ease;
        }

        .btn-quantum:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 20px rgba(0,0,0,0.3);
        }

        #geoData {
            background: rgba(20, 30, 50, 0.7);
            border-radius: 10px;
            padding: 15px;
            margin-top: 20px;
        }

        .geo-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="quantum-container animate__animated animate__fadeIn">
        <h2 class="text-center mb-4">üåç GeoMask Pro</h2>
        
        <div class="mb-3">
            <select id="fakeLocationSelect" class="form-control">
                <option value="kazan">–ö–∞–∑–∞–Ω—å</option>
                <option value="moscow">–ú–æ—Å–∫–≤–∞</option>
                <option value="spb">–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥</option>
                <option value="dubai">–î—É–±–∞–π</option>
                <option value="london">–õ–æ–Ω–¥–æ–Ω</option>
            </select>
        </div>

        <button id="startMaskingBtn" class="btn btn-quantum btn-block w-100 mt-3">
            –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å GeoMask
        </button>

        <div id="geoData" class="mt-3">
            <div class="geo-info">
                <span>–†–µ–∞–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è:</span>
                <span id="realGeoInfo">–ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞</span>
            </div>
            <div class="geo-info">
                <span>–ú–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è:</span>
                <span id="fakeGeoInfo">–ù–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞</span>
            </div>
        </div>
    </div>

    <script>
        // –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ª–æ–∫–∞—Ü–∏–π —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
        const LOCATIONS = {
            kazan: { 
                lat: 55.796127, 
                lon: 49.106414,
                city: '–ö–∞–∑–∞–Ω—å',
                country: '–†–æ—Å—Å–∏—è'
            },
            moscow: {
                lat: 55.755826,
                lon: 37.617300,
                city: '–ú–æ—Å–∫–≤–∞', 
                country: '–†–æ—Å—Å–∏—è'
            },
            spb: {
                lat: 59.934280,
                lon: 30.335099,
                city: '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥',
                country: '–†–æ—Å—Å–∏—è'
            },
            dubai: {
                lat: 25.204849,
                lon: 55.270783,
                city: '–î—É–±–∞–π',
                country: '–û–ê–≠'
            },
            london: {
                lat: 51.507351,
                lon: -0.127758,
                city: '–õ–æ–Ω–¥–æ–Ω',
                country: '–í–µ–ª–∏–∫–æ–±—Ä–∏—Ç–∞–Ω–∏—è'
            }
        };

        class GeoMaskPro {
            constructor() {
                this.realLocation = null;
                this.fakeLocation = null;
                this.initEventListeners();
            }

            initEventListeners() {
                document.getElementById('startMaskingBtn').addEventListener('click', () => this.startGeoMasking());
            }

            async getRealLocation() {
                return new Promise((resolve, reject) => {
                    if (!navigator.geolocation) {
                        reject('–ì–µ–æ–ª–æ–∫–∞—Ü–∏—è –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è');
                    }
                    
                    navigator.geolocation.getCurrentPosition(
                        (position) => {
                            this.realLocation = {
                                lat: position.coords.latitude,
                                lon: position.coords.longitude,
                                accuracy: position.coords.accuracy
                            };
                            resolve(this.realLocation);
                        },
                        (error) => reject(error)
                    );
                });
            }

            applyFakeGeolocation(fakeLocation) {
                // –•–∞–∫ –¥–ª—è –ø–æ–¥–º–µ–Ω—ã –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏
                const originalGetCurrentPosition = navigator.geolocation.getCurrentPosition;
                
                navigator.geolocation.getCurrentPosition = (success, error, options) => {
                    const mockPosition = {
                        coords: {
                            latitude: fakeLocation.lat,
                            longitude: fakeLocation.lon,
                            accuracy: 100,
                            altitude: null,
                            altitudeAccuracy: null,
                            heading: null,
                            speed: null
                        },
                        timestamp: Date.now()
                    };
                    
                    success(mockPosition);
                };

                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI
                document.getElementById('fakeGeoInfo').innerHTML = 
                    `${LOCATIONS[fakeLocation.city].city}, ${LOCATIONS[fakeLocation.city].country}`;
            }

            async startGeoMasking() {
                try {
                    // –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∞–ª—å–Ω–æ–π –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏
                    await this.getRealLocation();
                    
                    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI —Ä–µ–∞–ª—å–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏
                    document.getElementById('realGeoInfo').innerHTML = 
                        `–®–∏—Ä–æ—Ç–∞: ${this.realLocation.lat.toFixed(4)}, –î–æ–ª–≥–æ—Ç–∞: ${this.realLocation.lon.toFixed(4)}`;

                    // –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Ñ–µ–π–∫–æ–≤–æ–π –ª–æ–∫–∞—Ü–∏–∏
                    const locationSelect = document.getElementById('fakeLocationSelect');
                    const selectedLocation = LOCATIONS[locationSelect.value];

                    // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ñ–µ–π–∫–æ–≤–æ–π –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏
                    this.fakeLocation = {
                        ...selectedLocation,
                        city: locationSelect.value
                    };

                    this.applyFakeGeolocation(this.fakeLocation);

                    // –ê–Ω–∏–º–∞—Ü–∏—è –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
                    this.showNotification('üåç GeoMask –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω!');
                } catch (error) {
                    console.error('–û—à–∏–±–∫–∞:', error);
                    alert('–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è.');
                }
            }

                        showNotification(message) {
                const notification = document.createElement('div');
                notification.className = 'alert alert-success animate__animated animate__fadeIn';
                notification.innerText = message;
                document.querySelector('.quantum-container').appendChild(notification);

                // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
                setTimeout(() => {
                    notification.classList.add('animate__fadeOut');
                    setTimeout(() => {
                        notification.remove();
                    }, 1000);
                }, 3000);
            }
        }

        // –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º –∑–∞—â–∏—Ç—ã –≥–µ–æ–¥–∞–Ω–Ω—ã—Ö
        class GeolocationSpoofing {
            constructor() {
                this.originalGeolocation = { ...navigator.geolocation };
                this.fakeLocation = null;
            }

            // –ú–µ—Ç–æ–¥ –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞ –∏ –ø–æ–¥–º–µ–Ω—ã –≥–µ–æ–ª–æ–∫–∞—Ü–∏–æ–Ω–Ω—ã—Ö API
            interceptGeolocation(fakeLocation) {
                this.fakeLocation = fakeLocation;

                // –ü–µ—Ä–µ—Ö–≤–∞—Ç getCurrentPosition
                navigator.geolocation.getCurrentPosition = (successCallback, errorCallback, options) => {
                    const mockPosition = this.createMockPosition(fakeLocation);
                    successCallback(mockPosition);
                };

                // –ü–µ—Ä–µ—Ö–≤–∞—Ç watchPosition
                navigator.geolocation.watchPosition = (successCallback, errorCallback, options) => {
                    const mockPosition = this.createMockPosition(fakeLocation);
                    const watchId = setInterval(() => {
                        successCallback(mockPosition);
                    }, 1000);
                    return watchId;
                };
            }

            // –°–æ–∑–¥–∞–Ω–∏–µ mock-–ø–æ–∑–∏—Ü–∏–∏ —Å –Ω–µ–±–æ–ª—å—à–∏–º–∏ —Å–ª—É—á–∞–π–Ω—ã–º–∏ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è–º–∏
            createMockPosition(location) {
                const randomOffset = () => (Math.random() - 0.5) * 0.01;

                return {
                    coords: {
                        latitude: location.lat + randomOffset(),
                        longitude: location.lon + randomOffset(),
                        accuracy: 100,
                        altitude: null,
                        altitudeAccuracy: null,
                        heading: null,
                        speed: null
                    },
                    timestamp: Date.now()
                };
            }

            // –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏
            restoreGeolocation() {
                navigator.geolocation = this.originalGeolocation;
            }
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        document.addEventListener('DOMContentLoaded', () => {
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏
            if ("geolocation" in navigator) {
                const geoMaskPro = new GeoMaskPro();
                const geoSpoofing = new GeolocationSpoofing();

                // –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–Ω–æ–ø–∫–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
                document.getElementById('startMaskingBtn').addEventListener('click', async () => {
                    try {
                        // –ó–∞–ø—Ä–æ—Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–∞ –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é
                        const result = await new Promise((resolve, reject) => {
                            navigator.geolocation.getCurrentPosition(
                                (position) => resolve(position),
                                (error) => reject(error),
                                { enableHighAccuracy: true }
                            );
                        });

                        // –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –ª–æ–∫–∞—Ü–∏–∏
                        const locationSelect = document.getElementById('fakeLocationSelect');
                        const selectedLocation = LOCATIONS[locationSelect.value];

                        // –ê–∫—Ç–∏–≤–∞—Ü–∏—è —Å–ø—É—Ñ–∏–Ω–≥–∞
                        geoSpoofing.interceptGeolocation(selectedLocation);

                        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI
                        document.getElementById('realGeoInfo').innerHTML = 
                            `–®–∏—Ä–æ—Ç–∞: ${result.coords.latitude.toFixed(4)}, –î–æ–ª–≥–æ—Ç–∞: ${result.coords.longitude.toFixed(4)}`;
                        
                        document.getElementById('fakeGeoInfo').innerHTML = 
                            `${selectedLocation.city}, ${selectedLocation.country}`;

                        // –ê–Ω–∏–º–∞—Ü–∏—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
                        document.querySelector('.quantum-container').classList.add('animate__pulse');
                        
                        // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
                        alert(`üåç GeoMask –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω –¥–ª—è ${selectedLocation.city}!`);

                    } catch (error) {
                        console.error('–û—à–∏–±–∫–∞ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏:', error);
                        alert('–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è.');
                    }
                });
            } else {
                alert('–ì–µ–æ–ª–æ–∫–∞—Ü–∏—è –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≤ –≤–∞—à–µ–º –±—Ä–∞—É–∑–µ—Ä–µ');
            }
        });
    </script>
</body>
</html>
