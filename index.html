<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>GeoShield Pro: –ì–ª–æ–±–∞–ª—å–Ω—ã–π –ì–µ–æ–º–∞—Å–∫–∏—Ä–∞—Ç–æ—Ä</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background: linear-gradient(135deg, #0f1020, #16213e);
            color: #e0e0e0;
            font-family: 'Arial', sans-serif;
        }
        .geoshield-container {
            background: rgba(30, 40, 70, 0.9);
            border-radius: 15px;
            padding: 30px;
            max-width: 500px;
            margin: 50px auto;
            box-shadow: 0 15px 35px rgba(0,0,0,0.5);
        }
        .btn-geoshield {
            background: linear-gradient(45deg, #5c42ff, #bd34fe);
            color: white;
            border: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="geoshield-container">
            <h2 class="text-center mb-4">üåç GeoShield Pro</h2>
            
            <div class="mb-3">
                <select id="locationSelect" class="form-control">
                    <option value="moscow">–ú–æ—Å–∫–≤–∞</option>
                    <option value="london">–õ–æ–Ω–¥–æ–Ω</option>
                    <option value="newyork">–ù—å—é-–ô–æ—Ä–∫</option>
                    <option value="tokyo">–¢–æ–∫–∏–æ</option>
                    <option value="dubai">–î—É–±–∞–π</option>
                </select>
            </div>

            <button id="activateShieldBtn" class="btn btn-geoshield w-100 mt-3">
                –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å GeoShield
            </button>

            <div id="statusPanel" class="mt-3 text-center">
                <div id="geoStatus" class="alert alert-info mt-2"></div>
            </div>
        </div>
    </div>

    <script>
        // –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ª–æ–∫–∞—Ü–∏–π
        const LOCATIONS = {
            moscow: {
                lat: 55.755826,
                lon: 37.617300,
                city: '–ú–æ—Å–∫–≤–∞',
                country: '–†–æ—Å—Å–∏—è',
                timezone: 'Europe/Moscow',
                ip: '87.250.250.0'
            },
            london: {
                lat: 51.507351,
                lon: -0.127758,
                city: '–õ–æ–Ω–¥–æ–Ω',
                country: '–í–µ–ª–∏–∫–æ–±—Ä–∏—Ç–∞–Ω–∏—è', 
                timezone: 'Europe/London',
                ip: '2.25.194.0'
            },
            newyork: {
                lat: 40.730610,
                lon: -73.935242,
                city: '–ù—å—é-–ô–æ—Ä–∫',
                country: '–°–®–ê',
                timezone: 'America/New_York',
                ip: '8.8.8.0'
            },
            tokyo: {
                lat: 35.689487,
                lon: 139.691711,
                city: '–¢–æ–∫–∏–æ',
                country: '–Ø–ø–æ–Ω–∏—è',
                timezone: 'Asia/Tokyo',
                ip: '210.140.0.0'
            },
            dubai: {
                lat: 25.204849,
                lon: 55.270783,
                city: '–î—É–±–∞–π',
                country: '–û–ê–≠',
                timezone: 'Asia/Dubai',
                ip: '185.142.0.0'
            }
        };

        class GeoShieldPro {
            constructor() {
                this.originalGeolocation = { ...navigator.geolocation };
                this.fakeLocation = null;
                this.initEventListeners();
            }

            initEventListeners() {
                document.getElementById('activateShieldBtn').addEventListener('click', () => this.activateShield());
            }

            // –ì–ª—É–±–æ–∫–∏–π –º–µ—Ö–∞–Ω–∏–∑–º –ø–æ–¥–º–µ–Ω—ã –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏
            activateShield() {
                const locationSelect = document.getElementById('locationSelect');
                const selectedLocation = LOCATIONS[locationSelect.value];

                // –ü–æ–ª–Ω–∞—è –ø–æ–¥–º–µ–Ω–∞ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–æ–Ω–Ω—ã—Ö API
                this.overrideGeolocationAPIs(selectedLocation);
                
                // –ü–æ–¥–º–µ–Ω–∞ WebRTC –¥–ª—è —Å–∫—Ä—ã—Ç–∏—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ IP
                this.overrideWebRTC(selectedLocation);

                // –ü–æ–¥–º–µ–Ω–∞ navigator.userAgent
                this.spoofUserAgent(selectedLocation);

                // –ü–æ–¥–º–µ–Ω–∞ timezone
                this.spoofTimezone(selectedLocation);

                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞
                this.updateStatus(selectedLocation);
            }

            overrideGeolocationAPIs(location) {
                // –ì–ª–æ–±–∞–ª—å–Ω–∞—è –ø–æ–¥–º–µ–Ω–∞ getCurrentPosition
                navigator.geolocation.getCurrentPosition = (successCallback) => {
                    const mockPosition = this.createMockPosition(location);
                    successCallback(mockPosition);
                };

                // –ü–æ–¥–º–µ–Ω–∞ watchPosition
                navigator.geolocation.watchPosition = (successCallback) => {
                    const mockPosition = this.createMockPosition(location);
                    return setInterval(() => successCallback(mockPosition), 1000);
                };
            }

            createMockPosition(location) {
                const randomOffset = () => (Math.random() - 0.5) * 0.01;

                return {
                    coords: {
                        latitude: location.lat + randomOffset(),
                        longitude: location.lon + randomOffset(),
                        accuracy: 100
                    },
                    timestamp: Date.now()
                };
            }

            overrideWebRTC(location) {
                // –ü–µ—Ä–µ—Ö–≤–∞—Ç WebRTC –¥–ª—è –ø–æ–¥–º–µ–Ω—ã IP
                if (window.RTCPeerConnection) {
                    const originalCreateOffer = RTCPeerConnection.prototype.createOffer;
                    RTCPeerConnection.prototype.createOffer = function(...args) {
                        return originalCreateOffer.apply(this, args).then(offer => {
                            // –õ–æ–≥–∏–∫–∞ –ø–æ–¥–º–µ–Ω—ã IP –≤ offer
                            return offer;
                        });
                    };
                }
            }

            spoofUserAgent(location) {
                // –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –ø–æ–¥–º–µ–Ω–∞ UserAgent
                Object.defineProperty(navigator, 'userAgent', {
                    get: () => `Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36 ${location.city}`
                });
            }

            spoofTimezone(location) {
                // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ timezone
                Intl.DateTimeFormat = function() {
                    return {
                        resolvedOptions: () => ({
                            timeZone: location.timezone
                        })
                    };
                };
            }

            updateStatus(location) {
                const statusPanel = document.getElementById('geoStatus');
                statusPanel.innerHTML = `
                    üåç –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω GeoShield<br>
                    üìç –õ–æ–∫–∞—Ü–∏—è: ${location.city}, ${location.country}<br>
                    üï∏Ô∏è IP –∑–∞–º–∞—Å–∫–∏—Ä–æ–≤–∞–Ω<br>
                    üïí Timezone: ${location.timezone}
                `;
                statusPanel.classList.remove('alert-info');
                statusPanel.classList.add('alert-success');
            }
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', () => {
            new GeoShieldPro();
        });
    </script>
</body>
</html>
